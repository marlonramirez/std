(function(f,a){var c=true,g=false,e=null,h=f.document,d=f.$,b={extend:function(l,j){for(var k in j){l[k]=j[k]}return l},cmode:function(){if(f.$===f.std){f.$=d}return f.std},dom:{get:function(l,n,j){var k=l.substr(1),r=l.charAt(0);if(r=="#"){return h.getElementById(k)}n||(n=h);if(r=="@"){return n.getElementsByName(k)}if(r=="."){if(n.getElementsByClassName){return n.getElementsByClassName(k)}j||(j="*");var t=[],p=b.$(j),s=new RegExp("(^|\\s)"+k+"(\\s|$)");for(var q=0,m,o=0;m=p[q];q++){if(s.test(m.className)){t[o]=m;o++}}return t}return n.getElementsByTagName(l)},ready:(function(){var k=[];function j(o){var l=g;function n(){if(!l){l=c;o()}}if(h.addEventListener){h.addEventListener("DOMContentLoaded",n,g)}else{if(h.attachEvent){if(h.documentElement.doScroll&&f==f.top){function m(){if(!l||h.body){try{h.documentElement.doScroll("left");n()}catch(p){setTimeout(m,0)}}}m()}h.attachEvent("onreadystatechange",function(){if(h.readyState==="complete"){n()}})}}b.evt.add(f,"load",n)}return function(l){if(!k.length){j(function(){for(var m=0;m<k.length;m++){k[m]()}})}k.push(l)}})()},evt:(function(){var k={add:function(l,p,m,o){if(j(l,p,m,o)){if(l.attachEvent){var n=function(){m.call(l,event)};l.attachEvent("on"+p,n);l[m.toString()+p]=n}else{if(l.addEventListener){l.addEventListener(p,m,o)}else{l["on"+p]=m}}}},remove:function(l,o,m,n){if(j(l,o,m,n)){if(l.detachEvent){l.detachEvent("on"+o,l[m.toString()+o]);l[m.toString()+o]=e}else{if(l.removeEventListener){l.removeEventListener(o,m,n)}else{l["on"+o]=function(){}}}}},on:function(m,q,l,o,r){if(j(m,l,o,r,q)){var p=q.charAt(0),n=(p=="#")?"id":(p==".")?"className":(p=="@")?"name":"nodeName",s=(n=="nodeName")?q.toUpperCase():q.substr(1);k.add(m,l,function(){var t=k.get().target;if(q=="*"){o.apply(t,arguments)}else{while(t&&t!==m){var u=t[n].split(" ");for(var v=0,w;w=u[v];v++){if(w==s){o.apply(t,arguments)}}t=t.parentNode}}},r)}},get:function(){var l=f.event;if(l){if(navigator.appName=="Opera"){return l}l.charCode=(l.type=="keypress")?l.keyCode:0;l.eventPhase=2;l.isChar=(l.charCode>0);l.pageX=l.clientX+h.body.scrollLeft;l.pageY=l.clientY+h.body.scrollTop;l.preventDefault=function(){this.returnValue=g};if(l.type=="mouseout"){l.relatedTarget=l.toElement}else{if(l.type=="mouseover"){l.relatedTarget=l.fromElement}}l.stopPropagation=function(){this.cancelBubble=c};l.target=l.srcElement;l.time=(new Date).getTime();return l}else{return k.get.caller.arguments[0]}}};function j(o,m,p,s,q){var l=j.caller;if(o.length){for(var n=0;el=o[n];n++){l(el,m,p,s)}return g}if(m instanceof Object){for(var r in m){if(q){l(o,q,r,m[r],p)}else{l(o,r,m[r],p)}}return g}return c}return k})(),css:(function(k){var j=h.createElement("b").style;function m(r,t){for(var q=0,s;s=h.styleSheets[q];q++){var o=s.cssRules||s.rules;for(var n=0,p;p=o[n];n++){if(p.selectorText==r){if(t){if(s.cssRules){s.deleteRule(n)}else{s.removeRule(n)}return c}else{return p}}}}return g}function l(n){if(n[0]=="opacity"&&j[n[0]]==a){n[0]="filter";n[1]="alpha(opacity='"+n[1]*100+"')"}}return function(n,p){var o;if(typeof n=="string"){if(p){m(n,p)}else{if(!m(n)){if(h.styleSheets[0].addRule){h.styleSheets[0].addRule(n,e,0)}else{h.styleSheets[0].insertRule(n+" { }",0)}}o=m(n)}}else{o=n}return{get:function(r){l(arguments);var q=(o!=n)?o.style[r]:(o.currentStyle||h.defaultView.getComputedStyle(o,""))[r];if(q.indexOf("#")==0){temp=i(q);q="rgb("+temp[0]+", "+temp[1]+", "+temp[2]+")"}if(r=="filter"){q=(q=="")?"1":(k(q.replace(/[^\d]/g,""))/100)+""}return q},set:function(s,r){if(s instanceof Object){for(var q in s){this.set(q,s[q])}}else{l(arguments);o.style[s]=r}}}}})(parseInt),ajax:{xhr:function(){try{return new XMLHttpRequest()}catch(k){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(j){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(l){return e}}}},request:function(k,r,m){m||(m={});var q=b.ajax.xhr(),o=(m.response||"Text").toUpperCase(),l=m.feedback,p=m.data,j=(m.method||"POST").toUpperCase(),n=!m.sync;q.onreadystatechange=function(){if(q.readyState==4){if(q.status==200){var s=(o=="XML")?q.responseXML:q.responseText;r(s)}else{if(l){l(q.status)}}}else{if(l){l(q.readyState)}}};p=b.ajax.url(p);if(j=="GET"){if(p){k=k+"?"+p;p=e}q.open(j,k,n)}else{q.open("POST",k,n);q.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}q.send(p)},url:function(k){if(!(k instanceof Object)){return k}var m="",j=encodeURIComponent;for(var l in k){if(typeof k[l]=="string"||typeof k[l]=="number"){m+=j(l)+"="+j(k[l])+"&"}}return m.substr(0,m.length-1)},form:function(j){var k={};for(var l=0,m;m=j[l];l++){if(m.name!=a&&m.name!=""){if(m.type=="radio"||m.type=="checkbox"){if(m.checked){k[m.name]=m.value}}else{k[m.name]=m.value}}}return k}},sfx:{dyd:function(s,u,k){var q=s.clientX+h.documentElement.scrollLeft+h.body.scrollLeft,o=s.clientY+h.documentElement.scrollTop+h.body.scrollTop,m=b.css(u),n=parseInt(m.get("marginLeft"))||0,j=parseInt(m.get("marginTop"))||0,t=u.offsetLeft-n,r=u.offsetTop-j;function p(){var C=b.evt.get(),B=C.clientX+h.documentElement.scrollLeft+h.body.scrollLeft,A=C.clientY+h.documentElement.scrollTop+h.body.scrollTop,z=k.offsetLeft,v=k.offsetTop,w=k.offsetHeight,D=k.offsetWidth,x=t+B-q,E=r+A-o;if(x<=(n*-1)+z){x=(n*-1)+z}else{if(x>=(D+n+z-(u.offsetWidth+n*2))){x=D+n+z-(u.offsetWidth+n*2)}}if(E<=(j*-1)+v){E=(j*-1)+v}else{if(E>=(w+j+v-(u.offsetHeight+j*2))){E=w+j+v-(u.offsetHeight+j*2)}}if(m.get("position")=="relative"){x=x-z;E=E-v}m.set({left:x+"px",top:E+"px"});C.preventDefault()}function l(){b.evt.remove(h,{mousemove:p,mouseup:l},c)}b.evt.add(h,{mousemove:p,mouseup:l},c);s.preventDefault()},anim:function(y,j,q){q||(q={});var o=b.css(y),v=parseInt(q.duration)||1000,r=parseInt(q.fps)||100,s=q.onComplete,u,p,m=[],l=[],t=[];for(var n in j){var x=o.get(n);if(x.indexOf("rgb")==0){t[n]=[];var k=j[n];if(k.indexOf("#")==0){l[n]=i(k)}else{l[n]=k.substring(4,k.length-1).split(",")}m[n]=x.substring(4,x.length-1).split(",");for(var w=0;w<3;w++){m[n][w]=parseInt(m[n][w]);t[n][w]=(m[n][w]-l[n][w])/((v/1000)*r)}}else{m[n]=parseInt(x);l[n]=parseInt(j[n]);t[n]=isNaN(j[n])?j[n].replace(/(\+|-)?\d+/g,""):""}}u=+new Date;p=setInterval(function(){var B=+new Date;if(B<u+v){for(var z in j){if(o.get(z).indexOf("rgb")==0){for(var A=0;A<3;A++){m[z][A]=Math.round(m[z][A]-t[z][A])}o.set(z,"rgb("+m[z].toString()+")")}else{o.set(z,(m[z]+(l[z]-m[z])*((B-u)/v))+t[z])}}}else{p=clearInterval(p);for(var z in j){o.set(z,j[z])}if(s){s()}}},Math.round(1000/r))},fade:function(j,l){l||(l={});var k=b.css(j),m=l.onComplete;if(k.get("display")=="none"){k.set({display:"block",opacity:0});b.sfx.anim(j,{opacity:1},l)}else{b.sfx.anim(j,{opacity:0},b.extend(l,{onComplete:function(){k.set("display","none");m&&m()}}))}}}};function i(j){j=j.substr(1);if(j.length==3){var l=j.split("");j="";for(var k=0;k<3;k++){j+=l[k]+l[k]}}j=parseInt(j,16);return[j>>16,j>>8&255,j&255]}b.extend(String.prototype,{trim:function(){return this.replace(/^[\s\t\r\n]+|[\s\t\r\n]+$/g,"")}});if(typeof f.JSON=="undefined"){f.JSON={stringify:function(k){if(!(k instanceof Object)){return}var l=(k instanceof Array),m=l?"[":"{";for(var j in k){if(k[j] instanceof Object){if(!l){m+='"'+j+'" : '}m+=JSON.stringify(k[j])+", "}else{if(typeof k[j]!="function"){if(!l){m+='"'+j+'" : '}m+='"'+k[j]+'", '}}}return m.substr(0,m.length-2)+(l?" ]":" }")},parse:function(j){if(typeof j!="string"){return}if(/^[\],:{}\s]*$/.test(j.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return f["eval"]("("+j+")")}else{return}}}}f.$=function(){var j=(typeof arguments[0]=="function")?b.dom.ready:b.dom.get;return j.apply(this,arguments)};b.extend(f.$,b);f.std=f.$})(window);(function(a){a.extend(a,{modal:(function(){var b=window.sessionStorage||{},h=false,e=true,f=true,j,g,i,c={show:function(){a.evt.get().preventDefault();var x=this.getAttribute("title")||"",o=this.getAttribute("href"),n=document.location,s;if(o.indexOf(n+"#")==0){o=o.replace(n,"")}if(!g){g=document.createElement("div");j=g.cloneNode(h);var w=g.cloneNode(h),t=g.cloneNode(h),k=document.createElement("h2");g.id="overlay";j.id="modal";w.className="head";a.evt.add(w,"mousedown",function(){a.sfx.dyd(a.evt.get(),j,g)});a.evt.add(t,"click",c.hide);document.body.appendChild(g);w.appendChild(t);w.appendChild(k);j.appendChild(c.round(a.css(".head").get("backgroundColor"),"top"));j.appendChild(w);document.body.appendChild(j)}if(j.childNodes[2]){var m=this,v=arguments;a.sfx.fade(j,{onComplete:function(){d();c.show.apply(m,v)},duration:500});return}if(o.indexOf("#")==0){i=a(o);var y=i.parentNode;s=i.cloneNode(e);y.removeChild(i)}else{var q=document.createElement("div");if(!(q.innerHTML=b[o])){a.ajax.request(o,function(A){b[o]=q.innerHTML=A},{data:"ajax="+e,sync:e})}s=q.firstChild}j.appendChild(s);j.appendChild(c.round(a.css("#"+s.id).get("backgroundColor"),"bottom"));s.style.display="block";j.childNodes[1].childNodes[1].innerHTML=x;a.css(g).set("display","block");a.sfx.fade(j);var l=j.childNodes,z=0,p=s.offsetWidth;for(var r=0,u;u=l[r];r++){z+=u.offsetHeight}a.css(j).set({width:p+"px",height:z+"px",marginLeft:-(p/2)+"px",marginTop:-(z/2)+"px"});a.modal.reset()},hide:function(){a.sfx.fade(j,{onComplete:function(){a.css(g).set("display","none");d()},duration:500})},reset:function(){j&&a.css(j).set({top:"50%",left:"50%"})},round:function(n,m){m=m.toLowerCase();var o=document.createElement("b"),l=[],k=0;while(k<4){l[k]=o.cloneNode(h);l[k].style.backgroundColor=n;l[k].className="r"+(k+1);k++}o.className="round";if(m=="top"){k=0;while(k<4){o.appendChild(l[k]);k++}}else{if(m=="bottom"){k=3;while(k>=0){o.appendChild(l[k]);k--}}else{return}}return o}};function d(){if(i){document.body.appendChild(i)}j.removeChild(j.childNodes[2]);j.removeChild(j.childNodes[2])}a(function(){a.evt.add(window,"resize",a.modal.reset);a.evt.on(document,"a","click",function(){var k=this.rel;if(k=="modal"){a.modal.show.apply(this,arguments)}else{if(k=="external"&&this.target!="_blank"){this.target="_blank"}}})});return c})()})})(std);